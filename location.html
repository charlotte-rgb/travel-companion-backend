<!DOCTYPE html>
<html>
<head>
  <title>Travel Companion GPS Test</title>
</head>
<body>
  <h2>Send GPS to Travel Companion</h2>
  <button onclick="sendLocation()">Send My Location</button>

  <script>
    function sendLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;

          const formData = new FormData();
          formData.append("lat", lat);
          formData.append("lon", lon);

          fetch("http://172.20.10.2:8000/detect_landmark/", {
            method: "POST",
            body: formData
          })
          .then(r => r.json())
          .then(data => alert(JSON.stringify(data, null, 2)))
          .catch(err => alert("Error: " + err));
        });
      } else {
        alert("Geolocation not supported!");
      }
    }
  </script>
</body>
</html>
